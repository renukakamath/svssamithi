{% include 'customer_header2.html' %}
<div class="main-content">
    <h2>User Details</h2>
    <form method="post" enctype="multipart/form-data" id="user-form">
        <div class="form-sections">
            <div class="form-section">
                <div class="form-group">
                    <label for="fname"><i class="fas fa-user"></i> Full Name</label>
                    <input type="text" id="fname" name="fname" required minlength="2" maxlength="50" aria-describedby="fnameHelp">
                    <small id="fnameHelp" class="form-text text-muted">Enter your first name (2-50 characters).</small>
                </div>
                <div class="form-group">
                    <label for="lname"><i class="fas fa-user"></i> Last Name</label>
                    <input type="text" id="lname" name="lname" required minlength="2" maxlength="50" aria-describedby="lnameHelp">
                    <small id="lnameHelp" class="form-text text-muted">Enter your last name (2-50 characters).</small>
                </div>
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="email" name="email"  aria-describedby="emailHelp">
                    <small id="emailHelp" class="form-text text-muted">Enter a valid email address.</small>
                </div>
                <div class="form-group">
                    <label for="phone"><i class="fas fa-phone"></i> Phone Number</label>
                    <input type="tel" id="phone" name="phone" required pattern="[0-9]{10}" aria-describedby="phoneHelp">
                    <small id="phoneHelp" class="form-text text-muted">Enter a 10-digit phone number.</small>
                </div>
                <div class="form-group">
                    <label for="dob"><i class="fas fa-calendar-alt"></i> Date of Birth</label>
                    <input type="date" id="dob" name="dob" required aria-describedby="dobHelp">
                    <small id="dobHelp" class="form-text text-muted">Select your date of birth.</small>
                </div>
                <div class="form-group">
                    <label for="age"><i class="fas fa-birthday-cake"></i> Age</label>
                    <input type="number" id="age" name="age" required min="0" max="120" aria-describedby="ageHelp">
                    <small id="ageHelp" class="form-text text-muted">Enter your age (0-120).</small>
                </div>
                <div class="form-group">
                    <label for="gender"><i class="fas fa-venus-mars"></i> Gender</label>
                    <div class="gender-options">
                        <label for="male">
                            <input type="radio" id="male" name="gender" value="male" required> Male
                        </label>
                        <label for="female">
                            <input type="radio" id="female" name="gender" value="female"> Female
                        </label>
                        <label for="other">
                            <input type="radio" id="other" name="gender" value="other"> Other
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-section">
                <div class="form-group">
                    <label for="occupation"><i class="fas fa-briefcase"></i> Occupation</label>
                    <input type="text" id="occupation" name="occupation" required minlength="2" maxlength="100" aria-describedby="occupationHelp">
                    <small id="occupationHelp" class="form-text text-muted">Enter your occupation (2-100 characters).</small>
                </div>
                <div class="form-group">
                    <label for="address"><i class="fas fa-home"></i> Address</label>
                    <textarea id="address" name="address" rows="3" required minlength="5" maxlength="200" aria-describedby="addressHelp"></textarea>
                    <small id="addressHelp" class="form-text text-muted">Enter your address (5-200 characters).</small>
                </div>
                <div class="form-group">
                    <label for="photo"><i class="fas fa-camera"></i> Photo</label>
                    <input type="file"  id="imageUpload" name="photo" accept="image/*" required >
                   
                    <p id="message"></p>
                </div>
                <div class="form-group">
                    <label for="occupation"><i class="fa-solid fa-star"></i> Birth Star</label>
                    <input type="text" id="birthstar" name="birthstar"  minlength="2" maxlength="100" aria-describedby="occupationHelp">
                    <small id="occupationHelp" class="form-text text-muted">Enter your birth Star.</small>
                </div>
                <div class="form-group">
                    <label for="occupation"> Gothram</label>
                    <input type="text" id="gothram" name="gothram"  minlength="2" maxlength="100" aria-describedby="occupationHelp">
                    <small id="occupationHelp" class="form-text text-muted">Enter your Gothram.</small>
                </div>
                <div class="form-group">
                    <label for="family"><i class="fas fa-users"></i> Family Members</label>
                    <div id="family">
                        <div class="family-member">
                            <input type="text" name="family_member_name[]" placeholder="Name" required minlength="2" maxlength="50">
                            <input type="text" name="family_member_star[]" placeholder="star"  minlength="2" maxlength="50">
                            <input type="text" name="family_member_occupation[]" placeholder="Occupation"  minlength="2" maxlength="100">
                            <input type="text" name="family_member_contact[]" placeholder="Contact Number"  >
                            <input type="number" name="family_member_age[]" placeholder="Age" required min="0" max="120">
                        </div>
                    </div>
                    <button type="button" id="add-family-member" class="blue-button"><i class="fas fa-plus"></i> Add Member</button>

                    <button type="button" id="remove-family-member" class="red-button"><i class="fas fa-minus"></i> Remove Member</button>
                </div>
            </div>
        </div>
        <div class="form-group">
            <button type="submit" name="submit" value="submit"><i class="fas fa-paper-plane"></i> Submit</button>
        </div>
    </form>
</div>



<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: sans-serif;
    }
    
    body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background-color: #f0f2f5;
        color: #333;
    }
    
    .header {
        background-color: #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        padding: 20px 0;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000;
    }
    
    .header .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .header .logo h1 {
        font-family: 'Brush Script MT', cursive;
    }
    
    .header nav ul {
        list-style: none;
        display: flex;
        align-items: center;
    }
    
    .header nav ul li {
        margin-left: 20px;
    }
    
    .header nav ul li a {
        text-decoration: none;
        color: #333;
        font-weight: bold;
        padding: 10px 15px;
        transition: color 0.3s ease;
    }
    
    .header nav ul li a:hover {
        color: #007bff;
    }
    
    .sidebar {
        background-color: #fff;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        padding: 80px 20px 20px 20px;
        position: fixed;
        top: 0;
        bottom: 0;
        overflow-y: auto;
    }
    
    .sidebar .nav {
        list-style-type: none;
    }
    
    .sidebar .nav-item {
        margin: 10px 0;
    }
    
    .sidebar .nav-link {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: #333;
        padding: 10px;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }
    
    .sidebar .nav-link:hover {
        background-color: #e9ecef;
    }
    
    .sidebar .nav-link i {
        margin-right: 10px;
    }
    
    .main-content {
        flex: 1;
        padding: 150px 20px 20px 270px;
        background-color: #f8f9fa;
        overflow-y: auto;
    }
    
    h2 {
        text-align: center;
        margin-bottom: 30px;
    }
    
    .form-sections {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
    }
    
    .form-section {
        flex: 1;
        min-width: 300px;
    }
    
    .form-group {
        margin-bottom: 20px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 8px;
        color: #555;
        font-weight: bold;
    }
    
    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group input[type="tel"],
    .form-group input[type="date"],
    .form-group input[type="number"],
    .form-group textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 16px;
    }
    
    .form-group input[type="file"] {
        border: none;
    }
    
    .gender-options {
        display: flex;
        gap: 20px;
    }
    
    .gender-options label {
        display: flex;
        align-items: center;
        font-weight: normal;
    }
    
    .gender-options input {
        margin-right: 5px;
    }
    
    button[type="submit"] {
        display: block;
        width: 100%;
        padding: 15px;
        border: none;
        border-radius: 4px;
        background-color: #28a745;
        color: #fff;
        font-size: 18px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }
    
    button[type="submit"]:hover {
        background-color: #218838;
    }
    
    #family .family-member {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 10px;
    }
    
    

    .blue-button, .red-button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        margin-top: 10px;
    }
    .red-button {
        background-color: #dc3545;
        margin-left: 10px;
    }
    .blue-button:hover {
        background-color: #0056b3;
    }
    .red-button:hover {
        background-color: #c82333;
    }
    
    .blue-button i {
        margin-right: 5px;
    }
    
    .blue-button:hover {
        background-color: #0056b3;
    }
    
    .invalid {
        border-color: #dc3545;
    }
    
    .invalid + .form-text {
        color: #dc3545;
    }
    
    @media (max-width: 768px) {
        .header .container {
            flex-direction: column;
            align-items: flex-start;
        }
    
        .main-content {
            padding: 20px;
            margin-left: 0;
        }
    }
    </style>
    

<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
<script>
function speak(text) {
    var synth = window.speechSynthesis;
    var utterance = new SpeechSynthesisUtterance(text);
    synth.speak(utterance);
}

document.querySelectorAll('input, textarea').forEach(element => {
    element.addEventListener('focus', function() {
        let textToSpeak;
        switch (this.id) {
            case 'fname':
                textToSpeak = 'Enter your first name';
                break;
            case 'lname':
                textToSpeak = 'Enter your last name';
                break;
            case 'email':
                textToSpeak = 'Enter your email';
                break;
            case 'phone':
                textToSpeak = 'Enter your phone number';
                break;
            case 'dob':
                textToSpeak = 'Enter your date of birth';
                break;
            case 'age':
                textToSpeak = 'Enter your age';
                break;
            case 'occupation':
                textToSpeak = 'Enter your occupation';
                break;
            case 'address':
                textToSpeak = 'Enter your address';
                break;
            case 'gothram':
                textToSpeak = 'Enter your gothram';
                break;
            case 'birthstar':
                textToSpeak = 'Enter your birthstar';
                break;
            case 'imageUpload':
                textToSpeak = 'Select your photo';
                break;
        }
        if (textToSpeak) {
            speak(textToSpeak);
        }
    });
});

document.querySelectorAll('input[name="gender"]').forEach(element => {
    element.addEventListener('focus', function() {
        let genderText = 'It is a ' + this.value;
        speak(genderText);
    });
});

document.getElementById('add-family-member').addEventListener('click', function() {
    const familyDiv = document.getElementById('family');
    const newMemberDiv = document.createElement('div');
    newMemberDiv.className = 'family-member';
    newMemberDiv.innerHTML = `
        <input type="text" name="family_member_name[]" placeholder="Name" required minlength="2" maxlength="50">
        <input type="text" name="family_member_star[]" placeholder="star" required minlength="2" maxlength="50">
        <input type="text" name="family_member_occupation[]" placeholder="Occupation" required minlength="2" maxlength="100">
        <input type="text" name="family_member_contact[]" placeholder="Contact Number">
        <input type="number" name="family_member_age[]" placeholder="Age" required min="0" max="120">
    `;
    familyDiv.appendChild(newMemberDiv);



    
    newMemberDiv.querySelectorAll('input').forEach(input => {
        input.addEventListener('focus', function() {
            let textToSpeak;
            if (this.name.includes('name')) {
                textToSpeak = 'Enter family member name';
            }else if (this.name.includes('star')) {
                textToSpeak = 'Enter family member star';
            }
            
            else if (this.name.includes('occupation')) {
                textToSpeak = 'Enter family member occupation';
            } else if (this.name.includes('contact')) {
                textToSpeak = 'Enter family member contact number';
            } else if (this.name.includes('age')) {
                textToSpeak = 'Enter family member age';
            }
            if (textToSpeak) {
                speak(textToSpeak);
            }
        });
    });


    document.getElementById('remove-family-member').addEventListener('click', function() {
        var familyDiv = document.getElementById('family');
        if (familyDiv.children.length > 1) {
            familyDiv.removeChild(familyDiv.lastChild);
        }
    });
});

document.getElementById('user-form').addEventListener('submit', function(event) {
    let form = this;
    let isValid = true;
    
    form.querySelectorAll('input, textarea').forEach(input => {
        if (!input.checkValidity()) {
            input.classList.add('invalid');
            isValid = false;
        } else {
            input.classList.remove('invalid');
        }
    });

    if (!isValid) {
        event.preventDefault();
    }
});
</script>


<script>
    document.getElementById('imageUpload').addEventListener('change', function() {
        const file = this.files[0];
        const messageElement = document.getElementById('message');
        const maxSizeKB = 500; // Set maximum size in KB
        const validTypes = ['image/jpeg', 'image/png', 'image/gif'];

        if (file) {
            // Validate file type
            if (!validTypes.includes(file.type)) {
                messageElement.textContent = 'Invalid file type. Please upload a JPEG, PNG, or GIF image.';
                messageElement.style.color = 'red';
                return;
            }

            // Validate file size
            const fileSizeKB = file.size / 1024; // Convert bytes to KB
            if (fileSizeKB > maxSizeKB) {
                messageElement.textContent = `File size exceeds ${maxSizeKB} KB. Please upload a smaller image.`;
                messageElement.style.color = 'red';
                return;
            }

            messageElement.textContent = 'File is valid!';
            messageElement.style.color = 'green';
        }
    });
</script>
{% include 'footer.html'%}
